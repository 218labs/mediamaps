{% extends 'layout/admin.html.twig' %}

{% block body %}

  <h1 class="page-name">
    <i class="bi bi-megaphone"></i>
    {% if not entity|length %}
      {{ "Add media"|trans }}
    {% else %}
      {{ "Edit media"|trans }}
    {% endif %}
  </h1>

<style>
  .port-title {
    background-color: #6c757d !important;
  }
  fieldset .col-form-label {
    margin-bottom: 8px;
  }
  .card-entry fieldset {
    margin-bottom: 0px !important;
  }
  .delete-entry {
    right: 15px;
  }
  .entries {
    counter-reset: compagne_counter;
  }
  .compagne-counter:before {
    counter-increment: compagne_counter;
    content: counter(compagne_counter);
    position: absolute;
    top: 5px;
    right: 45px;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--color-primary);
  }
</style>
 <ajax-form>
 {{ form_start(form) }}
    <div class="styled-title my-3">
      <h3>{{ "Media informations"|trans }}</h3>
    </div>
 
<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.category) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.name) }}
  </div>
</div>
<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.country) }}
    {{ form_row(form.language) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.logo) }}
  </div>
</div>

<div class="row">
  <div class="col-sm-4">
     {{ form_row(form.contact) }}
  </div>
  <div class="col-sm-4">
     {{ form_row(form.email) }}
  </div>
  <div class="col-sm-4">
     {{ form_row(form.telephone) }}
  </div>
</div>

<div class="row">
  <div class="col-sm-4">
     {{ form_row(form.website) }}
  </div>
  <div class="col-sm-4">
  {{ form_row(form.visitorsCount) }}
  </div>
  <div class="col-sm-4">
  {{ form_row(form.parent) }}
  </div>
</div>

{{ form_row(form.interests) }}


{{ form_row(form.geographicalSystems) }}

<div class="styled-title my-3">
      <h3>{{ "Social media accounts"|trans }}</h3>
    </div>
 
<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.facebook) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.facebook_followers_count) }}
  </div>
</div> 

<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.twitter) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.twitter_followers_count) }}
  </div>
</div> 

<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.instagram) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.instagram_followers_count) }}
  </div>
</div> 

<div class="row">
  <div class="col-sm-6">
    {{ form_row(form.youtube) }}
  </div>
  <div class="col-sm-6">
    {{ form_row(form.youtube_followers_count) }}
  </div>
</div> 
     



<hr class="border-2 border-top border-secondary">
    <button type="button" class="btn btn-outline-danger rounded-0 shadow-none" onclick="history.go(-1);">
      <i class="bi bi-x-lg"></i>
      {{ "Reset"|trans }}
    </button>
    <button type="submit" class="btn btn-outline-secondary rounded-0 shadow-none  ">
      <i class="bi bi-check2-square"></i>
      {{ "Save"|trans }}
    </button>

{{ form_end(form) }}
</ajax-form>

{% endblock %}

{% block footer %}
  {{ parent() }}
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js" type="text/javascript"></script>
  {# select2 #}
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/fr.js"></script>
  <script>
  $(document).ready(function() {
    $('.select2').select2();
});
  </script>
  {# datetimepicker #}
  <link href="{{ asset('assets/vendor/datetimepicker/bootstrap-datetimepicker.min.css') }}" rel="stylesheet" />
  <script src="{{ asset('assets/vendor/datetimepicker/bootstrap-datetimepicker.min.js') }}"></script>
  <script src="{{ asset('assets/vendor/datetimepicker/bootstrap-datetimepicker.fr.js') }}"></script>
  <script>
  document.querySelector("ajax-form").addEventListener("ajax.form.success", function() {
    setTimeout(function() {
      window.location.href = '{{ path("media") }}'
    }, 1000)
  })
  </script>

{% endblock %}
